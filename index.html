<!DOCTYPE html>
<html lang="en">
  
<head>
  
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <title>rawlab.xyz</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="./scripts/style.css"> 

</head>

<body>
  <!-- hero -->
  <div class="wrapper">

      <!-- raw lab intro -->
      <div class="bodyContainer">                
        <h1>raw lab</h1>
        <p>
          a research-based collective working at the intersection of art and design. In their practice they search for new forms of creative expression. By critically and practically engaging with technology, new media and artificial intelligence the duo examines the social effects of our networked cultures.
        </p>
      </div>   
      
      <!-- heatmap canvas -->
      <div class="demo-wrapper"><div id="heatmap" class="heatmap"></div></div>

  </div>

  <script src="./scripts/canvas.js"></script>
  <script>

    // onload
    window.onload = function() {
      
      
    //   var heatmapContainer = document.querySelector('.heatmap');
      
    //   if (window.innerWidth < 960) {
    //     var heatmapInstance = h337.create({
    //     container: heatmapContainer,
    //     radius: 30
    //     });
    //   } else {
    //     var heatmapInstance = h337.create({
    //     container: heatmapContainer,
    //     radius: 60
    //     });
    //   }

    //   heatmapContainer.onmousemove = heatmapContainer.ontouchmove = function(e) {
    //       // we need preventDefault for the touchmove
    //       e.preventDefault();
    //       var x = e.layerX;
    //       var y = e.layerY;
    //       if (e.touches) {
    //         x = e.touches[0].pageX;
    //         y = e.touches[0].pageY;
    //       }
        
    //       heatmapInstance.addData({ x: x, y: y, value: 1 });
    //  };

    var heatmapContainer = document.querySelector('.heatmap');
      
      if (window.innerWidth < 960) {
      
      } else {
        var heatmapInstance = h337.create({
        container: heatmapContainer,
        radius: 60
        });
        heatmapContainer.onmousemove = heatmapContainer.ontouchmove = function(e) {
          // we need preventDefault for the touchmove
          e.preventDefault();
          var x = e.layerX;
          var y = e.layerY;
          if (e.touches) {
            x = e.touches[0].pageX;
            y = e.touches[0].pageY;
          }
        
          heatmapInstance.addData({ x: x, y: y, value: 1 });
        };
      }

     


    };

    // on resize
    window.onresize = function() {
      console.log('resize');
                 // on resize 
          
      var heatmapContainer = document.querySelector('.heatmap');
      
      if (window.innerWidth < 960) {
          // doSomething();
        var heatmapInstance = h337.create({
        container: heatmapContainer,
        radius: 30
        });
      } else {
        var heatmapInstance = h337.create({
        container: heatmapContainer,
        radius: 60
        });
      }

      heatmapContainer.onmousemove = heatmapContainer.ontouchmove = function(e) {
          // we need preventDefault for the touchmove
          e.preventDefault();
          var x = e.layerX;
          var y = e.layerY;
          if (e.touches) {
            x = e.touches[0].pageX;
            y = e.touches[0].pageY;
          }
        
          heatmapInstance.addData({ x: x, y: y, value: 1 });
      };


    };
  </script>

</body>
</html>